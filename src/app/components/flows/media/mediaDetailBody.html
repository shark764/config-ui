<div class="divider-header first-header">
  <h4>{{'details' | translate}}</h4>
</div>

<div disable-contents="!('MANAGE_ALL_MEDIA' | hasPermission)">
  <div class="input-group">
    <label>{{'value.name' | translate}} *</label>
    <form-error field="forms.mediaForm.name"
      error-type-required="{{'media.details.name.error' | translate}}">
    </form-error>
    <div>
      <input type="text" name="name"
        ng-required="true"
        ng-model="selectedMedia.name"></input>
    </div>
  </div>
  
  <div class="input-group">
    <label>{{'value.type' | translate}} *</label>
    <form-error field="forms.mediaForm.type"
      error-type-required="{{'media.details.type.error' | translate}}">
    </form-error>
    <div>
      <select name="type"
        ng-change="text = ''"
        ng-required="true"
        ng-model="selectedMedia.type" 
        ng-options="type.value as type.display for type in mediaTypes">
        <option value="" disabled>{{'media.details.type.select' | translate}}</option>
      </select>
    </div>
  </div>
</div>

<div class="input-group">
  <label>{{'value.source' | translate}} *</label>
  <ng-switch on="selectedMedia.type" ng-init="setupAudioSourceWatch(this)">
    <div ng-switch-when="audio">
      <form-error
        field="forms.mediaForm.audiosource"
        error-type-required="{{'media.details.source.error' | translate}}"
        error-type-url="{{'media.details.source.url.error' | translate}}">
      </form-error>
      <input type="url" name="audiosource"
        ng-disabled="!('MANAGE_ALL_MEDIA' | hasPermission)"
        ng-model-options="{allowInvalid : true}"
        ng-model="selectedMedia.source"
        required></input>
    </div>

    <div ng-switch-default>
      <form-error
        field="forms.mediaForm.source"
        error-type-api="true"
        error-type-required="{{'media.details.source.error' | translate}}">
      </form-error>
      <input type="text" name="source"
        ng-disabled="!('MANAGE_ALL_MEDIA' | hasPermission)"
        ng-required="true"
        ng-model="selectedMedia.source">
      </input>
    </div>
  </ng-switch>
</div>
