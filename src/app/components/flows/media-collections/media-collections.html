
<table-controls
  id="table-pane"
  config="tableConfig"
  items="fetchMediaCollections()"
  selected="selectedMediaCollection"
  resource-name="media-collection"
  hide-bulk-actions="true"
  push-on-save-event="created:resource:MediaCollection">

</table-controls>

<resize-handle
  ng-show="!! selectedMediaCollection"
  id="resize-pane-1"
  right-element-id="media-collection"
  left-element-id="table-pane"
  left-min-width="600"
  right-min-width="300" ></resize-handle>

<div id="media-collection-pane" class="details-pane" ng-show="!!selectedMediaCollection">
  <loading ng-if="!selectedMediaCollection"></loading>
  <i id="close-details-button" class="fa fa-remove remove" ng-click="closeDetails()"></i>

  <ng-form unsaved-changes-warning class="details-form"
    name="mediaCollectionForm"
    ng-show="selectedMediaCollection"
    ng-model="selectedMediaCollection"
    ng-resource="selectedMediaCollection"
    lo-form-submit="media:collection:save"
    lo-form-cancel="media:collection:cancel"
    lo-form-alert>
    
    <div class="detail-header-pane"
      ng-include src="'app/components/flows/media-collections/mediaCollectionDetailHeader.html'">
    </div>

    <div class="detail-body-pane"
      ng-include src="'app/components/flows/media-collections/mediaCollectionDetailBody.html'">
    </div>

    <div class="detail-controls-pane">
      <input id="cancel-details-btn" ng-disabled="loading" type="button" class="btn" 
        value="{{'value.cancel' | translate}}"
        chain-executor="media:collection:cancel">
      <input id="submit-details-btn" ng-show="!loading" class="btn btn-primary"
        ng-disabled="mediaCollectionForm.$invalid || ! mediaCollectionForm.$dirty"
        type="submit" value="{{'value.submit' | translate}}"
        chain-executor="media:collection:save">
      <a ng-show="loading" ng-disabled="true" class="btn btn-primary">
        <i class="fa fa-refresh fa-spin"></i>
      </a>
    </div>
  </ng-form>
</div>

<resize-handle
  id="resize-pane-2"
  ng-show="selectedMedia"
  right-element-id="media-pane"
  left-element-id="details-pane"
  left-min-width="600"
  right-min-width="300" ></resize-handle>

<div id="media-pane" class="details-pane" ng-show="selectedMedia">
  <loading ng-if="! selectedMedia"></loading>
  <i id="close-details-button" class="fa fa-remove remove" ng-click="closeDetails()"></i>

  <ng-form unsaved-changes-warning class="details-form"
    ng-show="selectedMedia" name="mediaForm"
    ng-model="selectedMedia">
    <div class="detail-header-pane"
      ng-include src="'app/components/flows/media/mediaDetailHeader.html'">
    </div>

    <div class="detail-body-pane"
      ng-include src="'app/components/flows/media/mediaDetailBody.html'">
    </div>

    <div class="detail-controls-pane">
      <input id="cancel-media-btn" type="button" class="btn" ng-click="cancel()"
        value="{{'value.cancel' | translate}}"></input>
      <input id="create-media-btn" class="btn btn-primary" ng-hide="loading"
        ng-disabled="mediaForm.$invalid || ! mediaForm.$dirty"
        ng-click="save()" type="submit" value="{{'value.create' | translate}}" />
      <input id="create-and-new-media-btn" class="btn btn-primary" ng-hide="loading"
        ng-disabled="mediaForm.$invalid || ! mediaForm.$dirty" ng-click="save()" 
        type="submit" value="{{'value.create.new' | translate}}" />
      <a ng-show="loading" ng-disabled="true" class="btn btn-primary">
        <i class="fa fa-refresh fa-spin"></i>
      </a>
      <a ng-show="loading" ng-disabled="true" class="btn btn-primary">
        <i class="fa fa-refresh fa-spin"></i>
      </a>
    </div>
  </ng-form>
</div>

