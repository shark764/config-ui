{
    "activities": [
        {
            "name": "play-media",
            "entity": "activity",
            "label": "Play Media",
            "bindings": {},
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "signals": [],
            "inputs": [
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "target",
                    "path": "target",
                    "type": "string",
                    "label": "Target:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a target...",
                    "hidden": true
                },
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                },
                {
                    "name": "media",
                    "path": "params.media",
                    "type": "typeahead",
                    "label": "Media:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Search for a media...",
                    "hidden": false,
                    "source": "media"
                },
                {
                    "name": "loop",
                    "path": "params.loop",
                    "type": "boolean",
                    "label": "Loop:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false
                }
            ],
            "params": {
                "media": {
                    "source": "entity",
                    "type": "media",
                    "mandatory": true,
                    "key": "media"
                },
                "loop": {
                    "source": "expression",
                    "type": "boolean",
                    "mandatory": true,
                    "default": false,
                    "key": "loop"
                },
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                }
            }
        },
        {
            "name": "collect-digits",
            "entity": "activity",
            "label": "Collect Digits",
            "bindings": {
              "digits": {
                "type": "string",
                "path": "digits"
              }
            },
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "signals": [],
            "inputs": [
                {
                    "name": "digits_binding",
                    "path": "bindings.digits",
                    "type": "string",
                    "label": "Digits:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the digits returned...",
                    "hidden": false
                },
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "target",
                    "path": "target",
                    "type": "string",
                    "label": "Target:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a target...",
                    "hidden": true
                },
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                },
                {
                    "name": "media",
                    "path": "params.media",
                    "type": "typeahead",
                    "label": "Media:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Search for a media...",
                    "hidden": false,
                    "source": "media"
                },
                {
                    "name": "digits",
                    "path": "params.digits",
                    "type": "number",
                    "label": "Number of digits to collect:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Specify # of digits...",
                    "hidden": false
                }
            ],
            "params": {
                "media": {
                    "source": "entity",
                    "type": "media",
                    "mandatory": true,
                    "key": "media"
                },
                "num-digits": {
                    "source": "expression",
                    "type": "integer",
                    "mandatory": true,
                    "default": 5,
                    "key": "digits"
                },
                "terminator": {
                    "source": "expression",
                    "type": "string",
                    "default": "#",
                    "mandatory": true,
                    "key": "terminator"
                },
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                }
            }
        },
        {
            "name": "enqueue",
            "entity": "activity",
            "label": "Enqueue",
            "bindings": {
              "resource": {
                "type": "resource",
                "path": "bindings.resource"
              }
            },
            "props": ["name", "params", "bindings", "loop"],
            "signals": [],
            "inputs": [
                {
                    "name": "resource_binding",
                    "path": "bindings.resource",
                    "type": "string",
                    "label": "Resource:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                },
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "queue",
                    "path": "params.queue",
                    "type": "typeahead",
                    "label": "Queue:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Search for a queue...",
                    "hidden": false,
                    "source": "queue"
                }
            ],
            "params": {
                "queue": {
                    "source": "entity",
                    "type": "queues",
                    "mandatory": true,
                    "key": "queue"
                }
            }
        },
        {
            "name": "dequeue",
            "entity": "activity",
            "label": "Dequeue",
            "bindings": {},
            "props": ["name", "params", "bindings", "loop"],
            "signals": [],
            "inputs": [
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "queue",
                    "path": "params.queue",
                    "type": "typeahead",
                    "label": "Queue:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Search for a queue...",
                    "hidden": false,
                    "source": "queue"
                }
            ],
            "params": {
                "queue": {
                    "source": "entity",
                    "type": "queues",
                    "mandatory": true,
                    "key": "queue"
                }
            }
        },
        {
            "name": "work-offer",
            "entity": "activity",
            "label": "Work Offer",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "client",
            "bindings": {},
            "signals": [],
            "inputs": [
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "target",
                    "path": "target",
                    "type": "string",
                    "label": "Target:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a target...",
                    "hidden": true
                },
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "select",
                    "source": "resource",
                    "label": "Resource:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": []
                },
                {
                    "name": "timeout",
                    "path": "params.timeout",
                    "type": "timestamp",
                    "label": "Timeout:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a timeout...",
                    "hidden": false
                },
                {
                    "name": "search",
                    "path": "params.search",
                    "type": "string",
                    "label": "Search:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a search...",
                    "hidden": true
                }
            ],
            "params": {
                "resource-id": {
                    "source": "expression",
                    "type": "resourceId",
                    "mandatory": true,
                    "key": "resource"
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "mandatory": true,
                    "key": "resource",
                    "default": "resource"
                },
                "timeout": {
                    "source": "expression",
                    "type": "timestamp",
                    "mandatory": true,
                    "key": "timeout",
                    "default": {
                        "value": 30,
                        "measurement": "seconds"
                    }
                },
                "search-value": {
                    "source": "expression",
                    "type": "variable",
                    "mandatory": false,
                    "key": "search",
                    "default": "titan/customer"
                },
                "search-value-action": {
                    "source": "expression",
                    "type": "string",
                    "mandatory": false,
                    "key": "search-action",
                    "default": "immediate"
                }
            }
        },
        {
            "name": "free-resource",
            "entity": "activity",
            "label": "Free Resource",
            "bindings": {},
            "props": ["name", "params", "bindings", "loop"],
            "signals": [],
            "inputs": [
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": []
                },
                {
                    "name": "state",
                    "path": "params.state",
                    "type": "select",
                    "label": "Set Presence:",
                    "group": "params",
                    "index": 2,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "ready",
                            "content": "Ready"
                        },
                        {
                            "value": "not-ready",
                            "content": "Not Ready"
                        }
                    ]
                }
            ],
            "params": {
                "resource-id": {
                    "source": "expression",
                    "type": "resourceId",
                    "key": "resource",
                    "mandatory": true
                },
                "state": {
                    "source": "expression",
                    "type": "variable",
                    "key": "state",
                    "mandatory": true,
                    "default": "ready"
                }
            }
        },
        {
            "name": "add-participant",
            "entity": "activity",
            "label": "Add Participant",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "bindings": {},
            "signals": [],
            "inputs": [
                {
                    "name": "targeted",
                    "path": "targeted",
                    "type": "boolean",
                    "label": "Targeted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": true
                },
                {
                    "name": "target",
                    "path": "target",
                    "type": "string",
                    "label": "Target:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a target...",
                    "hidden": true
                },
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                },
                {
                    "name": "muted",
                    "path": "params.muted",
                    "type": "boolean",
                    "label": "Muted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false
                },
                {
                    "name": "disconnectedOn",
                    "path": "params.disconnectOn",
                    "type": "boolean",
                    "label": "Disconnect On *",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "trueValue": "*",
                    "falseValue": ","
                }
            ],
            "params": {
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "muted": {
                    "source": "expression",
                    "type": "boolean",
                    "key": "muted",
                    "mandatory": false,
                    "default": false
                },
                "disconnectOn": {
                    "source": "expression",
                    "type": "variable",
                    "key": "disconnectOn",
                    "mandatory": false,
                    "default": ",",
                    "when": {
                        "eq": {
                            "params.disconnectOn": "*"
                        }
                    }
                }
            }
        },
        {
            "name": "dial",
            "entity": "activity",
            "label": "Dial",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "bindings": {},
            "signals": ["customer-disconnect", "resource-disconnect"],
            "inputs": [
                {
                    "name": "to",
                    "path": "params.to",
                    "type": "select",
                    "source": "resource",
                    "label": "To:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "hidden": false,
                    "options": []
                },
                {
                    "name": "timeout",
                    "path": "params.timeout",
                    "type": "timestamp",
                    "label": "Timeout:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a timeout...",
                    "hidden": false
                }
            ],
            "params": {
                "from": {
                    "source": "expression",
                    "type": "variable",
                    "key": "from",
                    "mandatory": true,
                    "default": "titan/customer"
                },
                "to": {
                    "source": "expression",
                    "type": "extension",
                    "key": "to",
                    "mandatory": true
                },
                "timeout": {
                    "source": "expression",
                    "type": "timestamp",
                    "mandatory": true,
                    "key": "timeout",
                    "default": {
                        "value": 30,
                        "measurement": "seconds"
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "resource",
                    "default": "resource",
                    "when": {
                        "ne": {
                            "params.to": "titan/customer"
                        }
                    }
                },
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "customer",
                    "default": "titan/customer",
                    "when": {
                        "eq": {
                            "params.to": "titan/customer"
                        }
                    }
                }
            }
        },
        {
            "name": "disconnect",
            "entity": "activity",
            "label": "Disconnect",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "bindings": {},
            "signals": [],
            "inputs": [
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                }
            ],
            "params": {
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                }
            }
        },
        {
            "name": "hold",
            "entity": "activity",
            "label": "Hold",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "bindings": {},
            "signals": [],
            "inputs": [
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                },
                {
                    "name": "media",
                    "path": "params.media",
                    "type": "typeahead",
                    "label": "Media:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Search for a media...",
                    "hidden": false,
                    "source": "media"
                }
            ],
            "params": {
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "media": {
                    "source": "entity",
                    "type": "media",
                    "mandatory": true,
                    "key": "media"
                }
            }
        },
        {
            "name": "resume",
            "entity": "activity",
            "label": "Resume",
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "twilio",
            "bindings": {},
            "signals": [],
            "inputs": [
                {
                    "name": "participant",
                    "path": "params.participant",
                    "type": "select",
                    "source": "resource",
                    "label": "Participant:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": null,
                    "hidden": false,
                    "options": [
                        {
                            "value": "titan/customer",
                            "content": "Customer"
                        }
                    ]
                }
            ],
            "params": {
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "eq": {
                            "params.participant": "titan/customer"
                        }
                    }
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "when": {
                        "ne": {
                            "params.participant": "titan/customer"
                        }
                    }
                }
            }
        },
        {
            "name": "agent-notification",
            "entity": "activity",
            "label": "Agent Notification",
            "bindings": {},
            "signals": [],
            "props": ["name", "params", "bindings", "loop", "target"],
            "target": "client",
            "inputs": [
              {
                  "name": "notification-type",
                  "path": "params.notificationType",
                  "type": "autocomplete",
                  "source": "signal",
                  "label": "Notification:",
                  "group": "general",
                  "index": 0,
                  "disabled": false,
                  "required": true,
                  "placeholder": "Enter the attribute name...",
                  "hidden": false
              },
              {
                  "name": "resource",
                  "path": "params.resource",
                  "type": "select",
                  "source": "resource",
                  "label": "Resource:",
                  "group": "general",
                  "index": 1,
                  "disabled": false,
                  "required": false,
                  "placeholder": null,
                  "hidden": false,
                  "options": []
              },
              {
                  "name": "customer",
                  "path": "params.customer",
                  "type": "select",
                  "source": "resource",
                  "label": "Customer:",
                  "group": "general",
                  "index": 0,
                  "disabled": false,
                  "required": true,
                  "placeholder": null,
                  "hidden": true,
                  "options": [
                      {
                          "value": "titan/customer",
                          "content": "Customer"
                      }
                  ]
              }
            ],
            "params": {
                "notification-type": {
                    "source": "expression",
                    "type": "string",
                    "key": "notificationType",
                    "mandatory": true
                },
                "resource-id": {
                    "source": "expression",
                    "type": "resourceId",
                    "mandatory": true,
                    "key": "resource"
                },
                "resource": {
                    "source": "expression",
                    "type": "variable",
                    "mandatory": true,
                    "key": "resource",
                    "default": "resource"
                },
                "customer": {
                    "source": "expression",
                    "type": "variable",
                    "key": "participant",
                    "mandatory": true,
                    "default": "titan/customer"
                }
            }
        },
        {
            "name": "set-attribute",
            "entity": "activity",
            "label": "Set Attribute",
            "bindings": {},
            "signals": [],
            "props": ["name", "params", "bindings", "loop"],
            "inputs": [
                {
                    "name": "name",
                    "path": "params.name",
                    "type": "string",
                    "label": "Name:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter the attribute name...",
                    "hidden": false
                },
                {
                    "name": "value",
                    "path": "params.value",
                    "type": "string",
                    "label": "Value:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter the attribute value...",
                    "hidden": false
                }
            ],
            "params": {
                "name": {
                    "source": "expression",
                    "type": "variable",
                    "key": "name",
                    "mandatory": true
                },
                "value": {
                    "source": "expression",
                    "type": "variable",
                    "key": "value",
                    "mandatory": true
                }
            }
        },
        {
            "name": "set-global-attribute",
            "entity": "activity",
            "label": "Set Global Attribute",
            "bindings": {},
            "signals": [],
            "props": ["name", "params", "bindings", "loop"],
            "inputs": [
                {
                    "name": "name",
                    "path": "params.name",
                    "type": "string",
                    "label": "Name:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter the attribute name...",
                    "hidden": false
                },
                {
                    "name": "value",
                    "path": "params.value",
                    "type": "string",
                    "label": "Value:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter the attribute value...",
                    "hidden": false
                }
            ],
            "params": {
                "name": {
                    "source": "expression",
                    "type": "variable",
                    "key": "name",
                    "mandatory": true
                },
                "value": {
                    "source": "expression",
                    "type": "variable",
                    "key": "value",
                    "mandatory": true
                }
            }
        }
    ],
    "events": [
        {
            "entity": "start",
            "type": "none",
            "inputs": [],
            "props": []
        },
        {
            "entity": "start",
            "type": "signal",
            "inputs": [
                {
                    "name": "target",
                    "path": "target",
                    "type": "autocomplete",
                    "source": "throw",
                    "label": "Signal Name:",
                    "group": "general",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a signal name...",
                    "hidden": false
                },
                {
                  "name": "conditional",
                  "path": "conditional",
                  "type": "string",
                  "label": "Condition:",
                  "group": "general",
                  "index": 1,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a condition...",
                  "hidden": false
                },
                {
                    "name": "binding",
                    "path": "bindings",
                    "type": "string",
                    "label": "Binding:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["target", "interrupting", "bindings", "conditional"]
        },
        {
            "entity": "start",
            "type": "flow-error",
            "inputs": [
                {
                    "name": "binding",
                    "path": "bindings",
                    "type": "string",
                    "label": "Binding:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["interrupting", "bindings"]
        },
        {
            "entity": "catch",
            "type": "signal",
            "inputs": [
                {
                    "name": "target",
                    "path": "target",
                    "type": "autocomplete",
                    "source": "throw",
                    "label": "Signal Name:",
                    "group": "general",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a signal name...",
                    "hidden": false
                },
                {
                  "name": "conditional",
                  "path": "conditional",
                  "type": "string",
                  "label": "Condition:",
                  "group": "general",
                  "index": 1,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a condition...",
                  "hidden": false
                },
                {
                    "name": "binding",
                    "path": "bindings",
                    "type": "string",
                    "label": "Inputs:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["target", "interrupting", "bindings", "conditional"]
        },
        {
            "entity": "catch",
            "type": "timer",
            "inputs": [
                {
                    "name": "timer",
                    "path": "timer",
                    "type": "string",
                    "label": "Timeout",
                    "group": "general",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a signal name...",
                    "hidden": false
                }
            ],
            "props": ["timer", "interrupting"]
        },
        {
            "entity": "catch",
            "type": "flow-error",
            "inputs": [
                {
                    "name": "binding",
                    "path": "bindings",
                    "type": "string",
                    "label": "Inputs:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["interrupting", "bindings"]
        },
        {
            "entity": "throw",
            "type": "signal",
            "terminate": false,
            "inputs": [
                {
                    "name": "signal",
                    "path": "event.name",
                    "type": "autocomplete",
                    "source": "catch",
                    "label": "Signal Name:",
                    "group": "general",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a signal name...",
                    "hidden": false
                },
                {
                    "name": "binding",
                    "path": "event.params",
                    "type": "string",
                    "label": "Outputs:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["terminate", "event"]
        },
        {
            "entity": "throw",
            "type": "none",
            "terminate": true,
            "inputs": [],
            "props": ["terminate"]
        },
        {
            "entity": "throw",
            "type": "signal",
            "terminate": true,
            "inputs": [
                {
                    "name": "signal",
                    "path": "event.name",
                    "type": "string",
                    "source": "catch",
                    "label": "Signal Name:",
                    "group": "general",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a signal name to catch...",
                    "hidden": false
                },
                {
                    "name": "binding",
                    "path": "event.params",
                    "type": "string",
                    "label": "Param:",
                    "group": "bindings",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": "Enter a name to bind to the resource returned...",
                    "hidden": false
                }
            ],
            "props": ["terminate", "event"]
        },
        {
            "entity": "throw",
            "type": "terminate",
            "terminate": true,
            "inputs": [],
            "props": ["terminate"]
        }
    ],
    "links": [
        {
            "entity": "link",
            "type": "normal",
            "inputs": [
                {
                  "name": "label",
                  "path": "label",
                  "type": "string",
                  "label": "Label:",
                  "group": "general",
                  "index": 0,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a label...",
                  "hidden": false
                }
            ]
        },
        {
            "entity": "link",
            "type": "default",
            "inputs": [
                {
                  "name": "label",
                  "path": "label",
                  "type": "string",
                  "label": "Label:",
                  "group": "general",
                  "index": 0,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a label...",
                  "hidden": false
                },
                {
                  "name": "type",
                  "path": "linkType",
                  "type": "select",
                  "label": "Type:",
                  "group": "general",
                  "index": 1,
                  "disabled": false,
                  "required": false,
                  "hidden": false,
                  "options": [
                    {
                        "content": "Default",
                        "value": "default"
                    },
                    {
                        "content": "Conditional",
                        "value": "conditional"
                    }
                  ],
                  "refresh": true
                },
                {
                  "name": "condition",
                  "path": "condition",
                  "type": "string",
                  "label": "Condition:",
                  "group": "general",
                  "index": 2,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a condition...",
                  "hidden": false
                }
            ]
        },
        {
            "entity": "link",
            "type": "conditional",
            "inputs": [
                {
                  "name": "label",
                  "path": "label",
                  "type": "string",
                  "label": "Label:",
                  "group": "general",
                  "index": 0,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a label...",
                  "hidden": false
                },
                {
                  "name": "type",
                  "path": "linkType",
                  "type": "select",
                  "label": "Type:",
                  "group": "general",
                  "index": 1,
                  "disabled": false,
                  "required": false,
                  "hidden": false,
                  "options": [
                    {
                        "content": "Default",
                        "value": "default"
                    },
                    {
                        "content": "Conditional",
                        "value": "conditional"
                    }
                  ],
                  "refresh": true
                },
                {
                  "name": "condition",
                  "path": "condition",
                  "type": "string",
                  "label": "Condition:",
                  "group": "general",
                  "index": 2,
                  "disabled": false,
                  "required": false,
                  "placeholder": "Enter a condition...",
                  "hidden": false
                }
            ]
        }
    ],
    "templates": [
        {
            "name": "enqueue-interaction",
            "entity": "template",
            "label": "Queue Interaction",
            "start": "t21657",
            "end": "t21652",
            "signals": ["resource-acquired", "abandon-queue"],
            "bindings": {
              "resource": {
                "type": "resource",
                "path": "params.resource"
              }
            },
            "inputs": [
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "string",
                    "label": "Resource:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "hidden": false,
                    "placeholder": "Enter a resource...",
                    "targeted": false
                },
                {
                    "name": "queue",
                    "path": "params.queue",
                    "type": "typeahead",
                    "label": "Queue:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": true,
                    "hidden": false,
                    "source": "queue",
                    "placeholder": "Search for a queue..."
                },
                {
                    "name": "media",
                    "path": "params.media",
                    "type": "typeahead",
                    "label": "Media:",
                    "group": "params",
                    "index": 2,
                    "disabled": false,
                    "required": true,
                    "hidden": false,
                    "source": "media",
                    "placeholder": "Search for media..."
                }
            ],
            "params": {
                "resource": {
                    "source": "entity",
                    "type": "variable",
                    "key": "resource",
                    "mandatory": true
                },
                "queue": {
                    "source": "entity",
                    "type": "queues",
                    "key": "queue",
                    "mandatory": true
                },
                "media": {
                    "source": "entity",
                    "type": "media",
                    "key": "media",
                    "mandatory": true
                }
            },
            "flow": "[{\"id\":\"tag/t21657\",\"children\":[\"tag/t21648\",\"tag/t21642\"],\"parents\":[],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"children\":[\"tag/t21641\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21658\",\"parents\":[],\"target\":\"customer-disconnect\",\"entity\":\"start\"},{\"id\":\"tag/t21641\",\"children\":[\"tag/t21646\",\"tag/t21643\"],\"parents\":[\"tag/t21658\"],\"entity\":\"gateway\",\"type\":\"exclusive\",\"conditionals\":[[\"tag/t21646\",\"(not resource)\"],[\"tag/t21643\",null]],\"default\":\"tag/t21643\"},{\"id\":\"tag/t21646\",\"children\":[\"tag/t21638\",\"tag/t21645\"],\"parents\":[\"tag/t21641\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"id\":\"tag/t21645\",\"children\":[\"tag/t21644\"],\"parents\":[\"tag/t21646\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"abandon-queue\",\"params\":{}}},{\"id\":\"tag/t21644\",\"children\":[\"tag/t21656\"],\"parents\":[\"tag/t21645\",\"tag/t21638\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"id\":\"tag/t21656\",\"children\":[],\"parents\":[\"tag/t21644\"],\"entity\":\"throw\",\"type\":\"terminate\",\"terminate\":true},{\"id\":\"tag/t21652\",\"children\":[],\"parents\":[\"tag/t21653\",\"tag/t21640\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"children\":[\"tag/t21652\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21653\",\"parents\":[\"tag/t21639\"],\"target\":\"work-accepted\",\"entity\":\"catch\"},{\"id\":\"tag/t21639\",\"children\":[\"tag/t21653\",\"tag/t21649\"],\"parents\":[\"tag/t21655\"],\"entity\":\"gateway\",\"type\":\"event\"},{\"id\":\"tag/t21654\",\"children\":[\"tag/t21655\"],\"parents\":[\"tag/t21648\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"resource-acquired\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"}}}},{\"children\":[\"tag/t21647\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21649\",\"parents\":[\"tag/t21639\"],\"target\":\"work-rejected\",\"entity\":\"catch\"},{\"id\":\"tag/t21643\",\"children\":[],\"parents\":[\"tag/t21641\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21644\"],\"bindings\":{},\"name\":\"dequeue\",\"params\":{\"queue\":{\"source\":\"system\",\"store\":\"queues\",\"id\":\"{{queue}}\"}},\"type\":\"task\",\"id\":\"tag/t21638\",\"parents\":[\"tag/t21646\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21648\"],\"bindings\":{},\"name\":\"set-attribute\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"nil\"}},\"type\":\"task\",\"id\":\"tag/t21647\",\"parents\":[\"tag/t21649\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21639\"],\"bindings\":{},\"name\":\"set-global-attribute\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"}},\"type\":\"task\",\"id\":\"tag/t21655\",\"parents\":[\"tag/t21654\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21654\"],\"bindings\":{\"resource\":\"{{resource}}\"},\"name\":\"enqueue\",\"params\":{\"queue\":{\"source\":\"system\",\"store\":\"queues\",\"id\":\"{{queue}}\"}},\"type\":\"task\",\"id\":\"tag/t21648\",\"parents\":[\"tag/t21657\",\"tag/t21647\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[],\"bindings\":{},\"name\":\"play-media\",\"params\":{\"media\":{\"source\":\"system\",\"store\":\"media\",\"id\":\"{{media}}\"},\"loop\":{\"source\":\"expression\",\"value\":\"true\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21642\",\"parents\":[\"tag/t21657\"],\"decorations\":[\"tag/t21640\"],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21652\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21640\",\"parents\":[\"tag/t21642\"],\"target\":\"work-accepted\",\"entity\":\"catch\"}]"
        },
        {
            "name": "add-customer",
            "entity": "template",
            "label": "Add Customer",
            "start": "t21504",
            "end": "t21502",
            "signals": ["remove-participant"],
            "inputs": [],
            "params": {},
            "flow": "[{\"id\":\"tag/t21502\",\"children\":[],\"parents\":[\"tag/t21503\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"remove-participant\",\"params\":{\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}}}},{\"children\":[\"tag/t21502\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21503\",\"parents\":[\"tag/t21504\"],\"target\":\"resource-disconnect\",\"entity\":\"catch\"},{\"children\":[\"tag/t21503\"],\"bindings\":{},\"name\":\"add-participant\",\"params\":{\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"muted\":{\"source\":\"expression\",\"value\":\"false\"}},\"type\":\"task\",\"id\":\"tag/t21504\",\"parents\":[],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"}]"
        },
        {
            "name": "add-resource",
            "entity": "template",
            "label": "Add Resource",
            "start": "t21495",
            "end": "t21497",
            "signals": ["remove-participant"],
            "inputs": [
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "string",
                    "label": "Resource:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "hidden": false,
                    "placeholder": "Enter a resource...",
                    "targeted": false
                },
                {
                    "name": "muted",
                    "path": "params.muted",
                    "type": "boolean",
                    "label": "Muted:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false
                },
                {
                    "name": "disconnectedOn",
                    "path": "params.disconnectOn",
                    "type": "boolean",
                    "label": "Disconnect On *",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "trueValue": "*",
                    "falseValue": ","
                }
            ],
            "params": {
                "resource": {
                    "source": "entity",
                    "type": "variable",
                    "key": "resource",
                    "mandatory": true
                },
                "muted": {
                    "source": "expression",
                    "type": "boolean",
                    "key": "muted",
                    "mandatory": false,
                    "default": false
                },
                "disconnectOn": {
                    "source": "expression",
                    "type": "variable",
                    "key": "disconnectOn",
                    "mandatory": false,
                    "default": ",",
                    "when": {
                        "eq": {
                            "params.disconnectOn": "*"
                        }
                    }
                }
            },
            "flow": "[{\"id\":\"tag/t21497\",\"children\":[],\"parents\":[\"tag/t21496\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"remove-participant\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"}}}},{\"children\":[\"tag/t21497\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21496\",\"parents\":[\"tag/t21495\"],\"target\":\"resource-disconnect\",\"entity\":\"catch\"},{\"children\":[\"tag/t21496\"],\"bindings\":{},\"name\":\"add-participant\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"muted\":{\"source\":\"expression\",\"value\":\"{{muted}}\"},\"disconnectOn\":{\"source\":\"expression\",\"value\":\"{{disconnectOn}}\"}},\"type\":\"task\",\"id\":\"tag/t21495\",\"parents\":[],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"}]"
        },
        {
            "name": "voice-work-offer",
            "entity": "template",
            "label": "Voice Work Offer",
            "start": "t21650",
            "end": "t21653",
            "signals": ["work-rejected", "work-accepted"],
            "inputs": [
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "select",
                    "source": "resource",
                    "label": "Resource:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": []
                },
                {
                    "name": "timeout",
                    "path": "params.timeout",
                    "type": "timestamp",
                    "label": "Timeout:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter a timeout...",
                    "hidden": false
                }
            ],
            "params": {
                "resource": {
                    "source": "entity",
                    "type": "variable",
                    "key": "resource",
                    "mandatory": true
                },
                "timeout": {
                    "source": "expression",
                    "type": "timestamp",
                    "mandatory": true,
                    "key": "timeout",
                    "default": {
                        "value": 30,
                        "measurement": "seconds"
                    }
                }
            },
            "flow": "[{\"id\":\"tag/t21658\",\"children\":[\"tag/t21659\",\"tag/t21664\"],\"parents\":[\"tag/t21650\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"id\":\"tag/t21649\",\"children\":[\"tag/t21660\"],\"parents\":[\"tag/t21659\",\"tag/t21664\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"id\":\"tag/t21653\",\"children\":[],\"parents\":[\"tag/t21660\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"work-accepted\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}}}},{\"id\":\"tag/t21655\",\"children\":[\"tag/t21666\"],\"parents\":[\"tag/t21652\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"work-rejected\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}}}},{\"id\":\"tag/t21662\",\"children\":[],\"parents\":[\"tag/t21666\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21665\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21667\",\"parents\":[],\"target\":\"customer-disconnect\",\"entity\":\"start\"},{\"id\":\"tag/t21651\",\"children\":[],\"parents\":[\"tag/t21657\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21649\"],\"bindings\":{},\"name\":\"dial\",\"params\":{\"from\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"to\":{\"source\":\"expression\",\"value\":\"{{resource}}.active-extension\"},\"timeout\":{\"source\":\"expression\",\"value\":\"(timestamp (from-now ({{timeout.measurement}} {{timeout.value}})))\"},\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}},\"type\":\"task\",\"id\":\"tag/t21664\",\"parents\":[\"tag/t21658\"],\"decorations\":[\"tag/t21661\"],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21658\"],\"bindings\":{},\"name\":\"work-offer\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"timeout\":{\"source\":\"expression\",\"value\":\"(timestamp (from-now ({{timeout.measurement}} {{timeout.value}})))\"},\"search-value\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"search-value-action\":{\"source\":\"expression\",\"value\":\"\\\"immediate\\\"\"}},\"type\":\"task\",\"id\":\"tag/t21650\",\"parents\":[],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"children\":[\"tag/t21649\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-initiated\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21659\",\"parents\":[\"tag/t21658\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"children\":[\"tag/t21653\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-accepted\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21660\",\"parents\":[\"tag/t21649\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"children\":[\"tag/t21655\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-rejected\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21652\",\"parents\":[\"tag/t21661\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"children\":[\"tag/t21662\"],\"bindings\":{},\"name\":\"free-resource\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"state\":{\"source\":\"expression\",\"value\":\"not-ready\"}},\"type\":\"task\",\"id\":\"tag/t21666\",\"parents\":[\"tag/t21655\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21657\"],\"bindings\":{},\"name\":\"disconnect\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"}},\"type\":\"task\",\"id\":\"tag/t21665\",\"parents\":[\"tag/t21667\"],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21651\"],\"bindings\":{},\"name\":\"free-resource\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"state\":{\"source\":\"expression\",\"value\":\"ready\"}},\"type\":\"task\",\"id\":\"tag/t21657\",\"parents\":[\"tag/t21665\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21652\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21661\",\"parents\":[\"tag/t21664\"],\"target\":\"resource-disconnect\",\"entity\":\"catch\"}]"
        },
        {
            "name": "resource-flow",
            "entity": "template",
            "label": "Resource Flow",
            "start": "t21643",
            "end": "t21632",
            "signals": ["work-rejected", "work-accepted", "remove-participant"],
            "inputs": [
                {
                    "name": "resource",
                    "path": "params.resource",
                    "type": "select",
                    "source": "resource",
                    "label": "Resource:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "options": []
                },
                {
                    "name": "timeout",
                    "path": "params.timeout",
                    "type": "timestamp",
                    "label": "Timeout:",
                    "group": "params",
                    "index": 1,
                    "disabled": false,
                    "required": true,
                    "placeholder": "Enter a timeout...",
                    "hidden": false
                },
                {
                    "name": "disconnectedOn",
                    "path": "params.disconnectOn",
                    "type": "boolean",
                    "label": "Disconnect On *",
                    "group": "params",
                    "index": 2,
                    "disabled": false,
                    "required": false,
                    "placeholder": null,
                    "hidden": false,
                    "trueValue": "*",
                    "falseValue": ","
                }
            ],
            "params": {
                "resource": {
                    "source": "entity",
                    "type": "variable",
                    "key": "resource",
                    "mandatory": true
                },
                "timeout": {
                    "source": "expression",
                    "type": "timestamp",
                    "mandatory": true,
                    "key": "timeout",
                    "default": {
                        "value": 30,
                        "measurement": "seconds"
                    }
                },
                "disconnectOn": {
                    "source": "expression",
                    "type": "variable",
                    "key": "disconnectOn",
                    "mandatory": false,
                    "default": ",",
                    "when": {
                        "eq": {
                            "params.disconnectOn": "*"
                        }
                    }
                }
            },
            "flow": "[{\"children\":[\"tag/t21621\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21643\",\"parents\":[],\"target\":\"resource-acquired\",\"entity\":\"start\"},{\"children\":[\"tag/t21619\"],\"bindings\":{},\"name\":\"dial\",\"params\":{\"from\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"to\":{\"source\":\"expression\",\"value\":\"{{resource}}.active-extension\"},\"timeout\":{\"source\":\"expression\",\"value\":\"(timestamp (from-now ({{timeout.measurement}} {{timeout.value}})))\"},\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}},\"type\":\"task\",\"id\":\"tag/t21640\",\"parents\":[\"tag/t21631\"],\"decorations\":[\"tag/t21637\"],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21631\"],\"bindings\":{},\"name\":\"work-offer\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"timeout\":{\"source\":\"expression\",\"value\":\"(timestamp (from-now ({{timeout.measurement}} {{timeout.value}})))\"},\"search-value\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"search-value-action\":{\"source\":\"expression\",\"value\":\"\\\"immediate\\\"\"}},\"type\":\"task\",\"id\":\"tag/t21621\",\"parents\":[\"tag/t21643\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"id\":\"tag/t21631\",\"children\":[\"tag/t21634\",\"tag/t21640\"],\"parents\":[\"tag/t21621\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"children\":[\"tag/t21625\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21637\",\"parents\":[\"tag/t21640\"],\"target\":\"resource-disconnect\",\"entity\":\"catch\"},{\"children\":[\"tag/t21619\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-initiated\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21634\",\"parents\":[\"tag/t21631\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"id\":\"tag/t21619\",\"children\":[\"tag/t21635\"],\"parents\":[\"tag/t21634\",\"tag/t21640\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"children\":[\"tag/t21626\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-accepted\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21635\",\"parents\":[\"tag/t21619\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"id\":\"tag/t21626\",\"children\":[\"tag/t21620\"],\"parents\":[\"tag/t21635\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"work-accepted\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}}}},{\"children\":[\"tag/t21628\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-rejected\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21625\",\"parents\":[\"tag/t21637\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"id\":\"tag/t21628\",\"children\":[\"tag/t21642\"],\"parents\":[\"tag/t21625\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"work-rejected\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}}}},{\"children\":[\"tag/t21638\"],\"bindings\":{},\"name\":\"free-resource\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"state\":{\"source\":\"expression\",\"value\":\"not-ready\"}},\"type\":\"task\",\"id\":\"tag/t21642\",\"parents\":[\"tag/t21628\"],\"decorations\":[],\"entity\":\"activity\"},{\"id\":\"tag/t21638\",\"children\":[],\"parents\":[\"tag/t21642\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21633\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21623\",\"parents\":[\"tag/t21620\"],\"target\":\"resource-disconnect\",\"entity\":\"catch\"},{\"children\":[\"tag/t21623\"],\"bindings\":{},\"name\":\"add-participant\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"muted\":{\"source\":\"expression\",\"value\":\"true\"},\"disconnectOn\":{\"source\":\"expression\",\"value\":\"{{disconnectOn}}\"}},\"type\":\"task\",\"id\":\"tag/t21620\",\"parents\":[\"tag/t21626\"],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"},{\"id\":\"tag/t21633\",\"children\":[\"tag/t21636\",\"tag/t21618\"],\"parents\":[\"tag/t21623\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"children\":[\"tag/t21624\"],\"bindings\":{},\"name\":\"agent-notification\",\"params\":{\"notification-type\":{\"source\":\"expression\",\"value\":\"\\\"work-ended\\\"\"},\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"},\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21636\",\"parents\":[\"tag/t21633\"],\"decorations\":[],\"target\":\"client\",\"entity\":\"activity\"},{\"id\":\"tag/t21618\",\"children\":[\"tag/t21624\"],\"parents\":[\"tag/t21633\"],\"entity\":\"throw\",\"type\":\"signal\",\"terminate\":false,\"event\":{\"name\":\"remove-participant\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"resource\"}}}},{\"id\":\"tag/t21624\",\"children\":[\"tag/t21632\"],\"parents\":[\"tag/t21636\",\"tag/t21618\"],\"entity\":\"gateway\",\"type\":\"parallel\"},{\"id\":\"tag/t21632\",\"children\":[],\"parents\":[\"tag/t21624\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21630\"],\"bindings\":{},\"name\":\"disconnect\",\"params\":{\"resource\":{\"source\":\"expression\",\"value\":\"{{resource}}\"}},\"type\":\"task\",\"id\":\"tag/t21641\",\"parents\":[\"tag/t21644\"],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21641\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21644\",\"parents\":[],\"target\":\"customer-disconnect\",\"entity\":\"start\"},{\"children\":[\"tag/t21622\"],\"bindings\":{},\"name\":\"free-resource\",\"params\":{\"resource-id\":{\"source\":\"expression\",\"value\":\"{{resource}}.id\"},\"state\":{\"source\":\"expression\",\"value\":\"ready\"}},\"type\":\"task\",\"id\":\"tag/t21630\",\"parents\":[\"tag/t21641\"],\"decorations\":[],\"entity\":\"activity\"},{\"id\":\"tag/t21622\",\"children\":[],\"parents\":[\"tag/t21630\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true}]"
        },
        {
            "name": "customer-hold-resume",
            "entity": "template",
            "label": "Customer Hold/ Resume",
            "start": "t21543",
            "end": "t21540",
            "signals": ["work-rejected", "work-accepted", "remove-participant"],
            "inputs": [
                {
                    "name": "media",
                    "path": "params.media",
                    "type": "typeahead",
                    "label": "Media:",
                    "group": "params",
                    "index": 0,
                    "disabled": false,
                    "required": true,
                    "hidden": false,
                    "source": "media",
                    "placeholder": "Search for media..."
                }
            ],
            "params": {
                "media": {
                    "source": "entity",
                    "type": "media",
                    "key": "media",
                    "mandatory": true
                }
            },
            "flow": "[{\"id\":\"tag/t21541\",\"children\":[\"tag/t21549\",\"tag/t21546\"],\"parents\":[\"tag/t21543\"],\"entity\":\"gateway\",\"type\":\"exclusive\",\"conditionals\":[[\"tag/t21549\",\"false\"],[\"tag/t21546\",\"(not customer-on-hold)\"]],\"default\":\"tag/t21549\"},{\"children\":[\"tag/t21541\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21543\",\"parents\":[],\"target\":\"customer-hold\",\"entity\":\"start\"},{\"id\":\"tag/t21549\",\"children\":[],\"parents\":[\"tag/t21541\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true},{\"children\":[\"tag/t21548\"],\"bindings\":{},\"name\":\"set-attribute\",\"params\":{\"customer-on-hold\":{\"source\":\"expression\",\"value\":\"true\"}},\"type\":\"task\",\"id\":\"tag/t21546\",\"parents\":[\"tag/t21541\"],\"decorations\":[],\"entity\":\"activity\"},{\"children\":[\"tag/t21542\"],\"bindings\":{},\"name\":\"hold\",\"params\":{\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"},\"media\":{\"source\":\"system\",\"store\":\"media\",\"id\":\"{{media}}\"}},\"type\":\"task\",\"id\":\"tag/t21548\",\"parents\":[\"tag/t21546\"],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21545\"],\"bindings\":{},\"interrupting\":true,\"type\":\"signal\",\"id\":\"tag/t21542\",\"parents\":[\"tag/t21548\"],\"target\":\"customer-resume\",\"entity\":\"catch\"},{\"children\":[\"tag/t21544\"],\"bindings\":{},\"name\":\"resume\",\"params\":{\"customer\":{\"source\":\"expression\",\"value\":\"titan/customer\"}},\"type\":\"task\",\"id\":\"tag/t21545\",\"parents\":[\"tag/t21542\"],\"decorations\":[],\"target\":\"twilio\",\"entity\":\"activity\"},{\"children\":[\"tag/t21540\"],\"bindings\":{},\"name\":\"set-attribute\",\"params\":{\"customer-on-hold\":{\"source\":\"expression\",\"value\":\"false\"}},\"type\":\"task\",\"id\":\"tag/t21544\",\"parents\":[\"tag/t21545\"],\"decorations\":[],\"entity\":\"activity\"},{\"id\":\"tag/t21540\",\"children\":[],\"parents\":[\"tag/t21544\"],\"entity\":\"throw\",\"type\":\"none\",\"terminate\":true}]"
        }
    ]
}
