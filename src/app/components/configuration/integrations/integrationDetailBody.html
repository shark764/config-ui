<div disable-contents="!('MANAGE_ALL_PROVIDERS' | hasPermission)">
  <div class="divider-header first-header" ng-hide="selectedIntegration.type === 'facebook'">
    <h4>{{'details' | translate}}</h4>
  </div>

  <div ng-if="selectedIntegration.type == 'twilio' || selectedIntegration.type == 'plivo'">
    <div ng-if="selectedIntegration.type == 'twilio'">
      <div class="input-group">
        <label>{{'integration.details.properties.accountSid' | translate}} *</label>
        <form-error field="forms.detailsForm.accountSid" error-type-required="{{'integration.accountsid.error' | translate}}" ></form-error>
        <div>
          <input ng-required="true" type="text" ng-model="selectedIntegration.properties.accountSid" name="accountSid"/>
        </div>
      </div>
    </div>

    <div ng-if="selectedIntegration.type == 'plivo'">
      <div class="input-group">
        <label>{{'integration.details.properties.authId' | translate}} *</label>
        <form-error field="forms.detailsForm.authId" error-type-required="{{'integration.authid.error' | translate}}" ></form-error>
        <div>
          <input ng-required="true" type="text" ng-model="selectedIntegration.properties.authId" name="authId"/>
        </div>
      </div>
    </div>

    <div class="input-group">
      <label>{{'integration.details.properties.authToken' | translate}} *</label>
      <form-error field="forms.detailsForm.authToken" error-type-required="{{'integration.authtoken.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="password" ng-model="selectedIntegration.properties.authToken" name="authToken"/>
      </div>
    </div>

    <div class="input-group integrations-default-region">
      <label>{{'integration.details.properties.defaultRegion' | translate}} *</label>
      <div>
        <select
           name="region"
           ng-model="selectedIntegration.properties.region"
           ng-options="region.value as region.display for region in twilioRegions"></select>
      </div>

      <div>
        <label>{{'integration.details.properties.defaultRegionForced' | translate}} *</label>
        <toggle
            ng-model="selectedIntegration.properties.forceRegion"
            ng-required="true"
            name="forceRegion"/>
      </div>
    </div>

    <div class="input-group">
      <label>{{'integration.details.properties.webRTC' | translate}}</label>
      <div>
        <toggle ng-required="true" ng-model="selectedIntegration.properties.webRtc" ng-disabled="!('MANAGE_ALL_PROVIDERS' | hasPermission)"/>
      </div>
    </div>
  </div>

  <div ng-if="selectedIntegration.type == 'client'">
    <div class="input-group">
      <label>{{'integration.details.properties.accessKey' | translate}} *</label>
      <form-error field="forms.detailsForm.accessKey" error-type-required="{{'integration.accessKey.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="text" ng-model="selectedIntegration.properties.accessKey" name="accessKey"/>
      </div>
    </div>

    <div class="input-group">
      <label>{{'integration.details.properties.secretKey' | translate}} *</label>
      <form-error field="forms.detailsForm.secretKey" error-type-required="{{'integration.secretKey.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="password" ng-model="selectedIntegration.properties.secretKey" name="secretKey"/>
      </div>
    </div>
  </div>

  <div ng-if="selectedIntegration.type == 'salesforce'">
    <div class="input-group">
      <label>{{'integration.details.properties.username' | translate}} *</label>
      <form-error field="forms.detailsForm.username" error-type-required="{{'integration.username.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="text" ng-model="selectedIntegration.properties.username" name="username"/>
      </div>
    </div>
    <div class="input-group">
      <label>{{'integration.details.properties.password' | translate}} *</label>
      <form-error field="forms.detailsForm.password" error-type-required="{{'integration.password.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="password" ng-model="selectedIntegration.properties.password" name="password"/>
      </div>
    </div>
    <div class="input-group">
      <label>{{'integration.details.properties.consumerKey' | translate}} *</label>
      <form-error field="forms.detailsForm.consumerKey" error-type-required="{{'integration.consumerKey.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="text" ng-model="selectedIntegration.properties.consumerKey" name="consumerKey"/>
      </div>
    </div>
    <div class="input-group">
      <label>{{'integration.details.properties.consumerSecret' | translate}} *</label>
      <form-error field="forms.detailsForm.consumerSecret" error-type-required="{{'integration.consumerSecret.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="password" ng-model="selectedIntegration.properties.consumerSecret" name="consumerSecret"/>
      </div>
    </div>
    <div class="input-group">
      <label>{{'integration.details.properties.securityToken' | translate}} *</label>
      <form-error field="forms.detailsForm.securityToken" error-type-required="{{'integration.securityToken.error' | translate}}" ></form-error>
      <div>
        <input ng-required="true" type="password" ng-model="selectedIntegration.properties.securityToken" name="securityToken"/>
      </div>
    </div>
    <div class="input-group">
      <label>{{'integration.details.properties.loginUrl' | translate}}</label>
      <form-error field="forms.detailsForm.loginUrl" error-type-url="{{'integration.loginUrl.error' | translate}}" ></form-error>
      <div>
        <input ng-required="false" type="url" ng-model="selectedIntegration.properties.loginUrl" name="loginUrl"/>
      </div>
    </div>
  </div>
  <div class="input-group" ng-if="selectedIntegration.type == 'salesforce' || selectedIntegration.type == 'facebook'">
    <div>
      <p class="null">{{'integration.details.loginUrl.message' | translate}}</p>
    </div>
  </div>
  <!-- Listeners -->
  <div ng-if="selectedIntegration.type == 'salesforce' || selectedIntegration.type == 'facebook'">
    <integration-listeners integration="selectedIntegration" fetch-listeners="fetchListeners()"></integration-listeners>
  </div>
</div>
