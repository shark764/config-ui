<div class="detail-header-pane">
  <div class="abox"></div>

  <toggle ng-hide="true" class="user-toggle" ng-model="user.status"></toggle>
  <div id="user-details-header-name" ng-hide="! user.id">

    <h1 class="user-name">{{user.firstName}} {{user.lastName}}</h1>

    <span>
      <h2>{{user.displayName}}</h2>
      <user-state state="{{user.state}}" />
    </span>
    <div ng-show="creator.displayName" class="state-description"><b translate="details.user.createdby" translate-value-date="{{user.created | date:'medium'}}" translate-value-creator="{{creator.displayName}}"></b></div>
    <div ng-show="updater.displayName" class="state-description"><b translate="details.user.updatedby" translate-value-date="{{user.created | date:'medium'}}" translate-value-enabler="{{updater.displayName}}"></b></div>
  </div>
</div>

<form name="userForm" ng-submit="save()">

  <div class="input-group">
    <label>{{'details.firstName' | translate}}</label>
    <div class="error" ng-show="userForm.firstName.$touched && userForm.firstName.$invalid">{{'details.firstName.error' | translate}}</div>
    <input ng-model="user.firstName" name="firstName" type="text"></input>
  </div>

  <div class="input-group">
    <label>{{'details.lastName' | translate}}</label>
    <div class="error" ng-show="userForm.lastName.$touched && userForm.lastName.$invalid">{{'details.lastName.error' | translate}}</div>
    <input ng-model="user.lastName" name="lastName" type="text"></input>
  </div>

  <div class="input-group">
    <label>{{'details.displayName' | translate}}</label>
    <div class="error" ng-show="userForm.displayName.$touched && userForm.displayName.$invalid">{{'details.displayName.error' | translate}}</div>
    <input ng-model="user.displayName" name="displayName" type="text"></input>
  </div>

  <div class="input-group" ng-show="!user.id">
    <label>{{'details.email' | translate}}</label>
    {{userForm.email.$error}}
    <div class="error" ng-messages="userForm.email.$error" role="alert">
      <div ng-message="required">{{'details.email.error' | translate}}</div>
      <div ng-message="email">{{'details.email.invalid' | translate}}</div>
    </div>
    <input ng-model="user.email" name="email" type="email" required email></input>
  </div>

   <div class="input-group">
    <label>{{'details.password' | translate}}</label>
    <input ng-model="user.password" name="password" type="password"></input>
  </div>

  <div class="input-group">
    <label>{{'details.externalId' | translate}}</label>
    <input ng-model="user.externalId" name="externalId" type="text"></input>
  </div>

  <div class="input-group">
    <label>{{'details.role' | translate}}</label>
    <select ng-model="user.role" name="role" ng-options="role.value as role.label for role in userRoles">
      <option value="">Select Role</option>
    </select>
  </div>

  <div class="input-group">
    <label>State</label>
    <select ng-model="user.state" name="state" ng-options="state.value as state.display for state in userStates.filters">
      <option value="">Select State</option>
    </select>
  </div>

  <detail-controls resource="user" form="userForm"></detail-controls>
</form>
