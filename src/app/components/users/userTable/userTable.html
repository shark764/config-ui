<div class="action-container">
  <input type="text" name='queryUserInput' ng-model="searchQuery" placeholder="Search">
  <button class="btn btn-primary btn-create" ng-click="createUser()">Create</button>
</div>

<div id="user-table-options">
  <filter-dropdown label="Columns" items="columns"></filter-dropdown>
</div>

<table class="user-table">
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th ng-if="columns.filters.name.checked">Name</th>
      <th ng-if="columns.filters.id.checked">ID</th>
      <th ng-if="columns.filters.status.checked">
        <filter-dropdown label="Status" items="statuses"></filter-dropdown>
      </th>
      <th ng-if="columns.filters.state.checked">
        <filter-dropdown label="State" items="states"></filter-dropdown>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr ng-repeat="user in users | userFilter:statuses:'status' | userFilter:states:'state' | search:['firstName','lastName']:searchQuery | orderBy:'lastName'"
      ng-click="selectUser(user)"
      ng-class="{selected: user.id === selectedUser.id}">
      <td>
        <input type="checkbox" ng-model="user.checked" />
      </td>
      <td ng-if="columns.filters.name.checked">{{user.firstName}} {{user.lastName}}</td>
      <td ng-if="columns.filters.id.checked">{{user.externalId}}</td>
      <td ng-if="columns.filters.status.checked">
        <span ng-class="{disabled : ! user.status}">{{user.status ? 'Enabled' : 'Disabled'}}</span>
      </td>
      <td ng-if="columns.filters.state.checked">
        <div user-state state="{{user.state}}"></div>
      </td>
    </tr>
  </tbody>
</table>