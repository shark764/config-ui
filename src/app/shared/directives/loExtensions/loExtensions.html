<form name="userTenantExtensionForm">
  <input type="hidden" name="extensions" ng-model="tenantUser.extensions"></input>
  
  <div class="lo-extension-table">
    <div class="lo-extension-table-header">
      <div class="lo-extension-table-row">
        <div class="lo-extension-table-col">
          <form-error field="userTenantExtensionForm.type"
            error-type-required="{{'details.extension.type.required' | translate}}" >
          </form-error>
          <select name="type"
            ng-required="true"
            ng-class="{'default-selected': ! newExtension.type}"
            ng-model="newExtension.type"
            ng-options="type.value as type.display for type in loExtensionTypes">
            <option class="disabled" value="" ng-disabled="true">
              {{'details.extension.type' | translate}}
            </option>
          </select>
        </div>
        <div class="lo-extension-table-col">
          <form-error field="userTenantExtensionForm.provider"
            error-type-required="{{'details.extension.provider.required' | translate}}" >
          </form-error>
          <select name="provider"
            ng-required="true"
            ng-class="{'default-selected': ! newExtension.provider}"
            ng-model="newExtension.provider"
            ng-options="provider.value as provider.display for provider in loExtensionProviders">
            <option class="disabled" value="" ng-disabled="true">
              {{'details.extension.provider' | translate}}
            </option>
          </select>
        </div>
        <div class="lo-extension-table-col">
          <form-error field="userTenantExtensionForm.value"
            error-type-required="{{'details.extension.value.required' | translate}}" >
          </form-error>
          <input type="text" name="value"
            ng-required="true"
            placeholder="{{'details.extension.value' | translate}}"
            ng-model="newExtension.value">
          </input>
        </div>
      
        <div class="lo-extension-table-col">
          <button class="btn" type="button"
            ng-click="add()"
            ng-disabled="userTenantExtensionForm.type.$invalid || userTenantExtensionForm.provider.$invalid || userTenantExtensionForm.value.$invalid">
            <i class="fa fa-plus"></i>
          </button>
        </div>
      </div>
    </div>
    
    <div class="lo-extension-table-body"
      dnd-list="tenantUser.extensions">
      <div class="lo-extension-table-row"
        ng-repeat="extension in tenantUser.extensions"
        dnd-draggable="extension"
        dnd-effect-allowed="move"
        dnd-moved="tenantUser.extensions.splice($index, 1)"
        dnd-selected="tenantUser.extensions.selected = extension">
        
        <div class="lo-extension-table-col">
          <div class="handle">:::</div>
          <span dnd-nodrag>{{extension.type}}</span>
        </div>
        <div class="lo-extension-table-col" dnd-nodrag>{{extension.provider}}</div>
        <div class="lo-extension-table-col" dnd-nodrag>{{extension.value}}</div>
        <div class="lo-extension-table-col" dnd-nodrag>
          <i class="fa fa-close"
            ng-click="remove(extension)"></i>
        </div>
      </div>
      <div class="dndPlaceholder">
        Place here.
      </div>
    </div>
  </div>
</form>