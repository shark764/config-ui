<div style="width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: auto;">

  <div class="table-controls top-row">
    <div class="col">
      <h2 ng-if="config.title">{{config.title}}</h2>
    </div>
    <div class="action-container">
      <div class="col action">
        <button id="create-btn" class="btn btn-create btn-primary" ng-click="onCreateClick()">Create</button>
      </div>
    </div>
  </div>

  <div class="table-controls">
    <div class="col">
      <div class="inner-addon right">
        <input type="text" ng-model="searchQuery" placeholder="Search"> </input>
        <i class="fa fa-search"></i>
      </div>
    </div>

    <div class="action-container">
      <div class="col action">
        <button class="btn btn-create" ng-click="onActionsClick()">Actions</button>
      </div>
      <div class="col">
           <filter-dropdown id="table-columns-dropdown" class="btn" label="Columns" options="config.fields" display-path="header" value-path="name"></filter-dropdown>
      </div>
    </div>
  </div>

  <div class="table-message">
    <loading ng-if="items && !items.$resolved"></loading>

    <div ng-show="!items || (items.$resolved && !items.length)">
      No results were found.
    </div>
  </div>

  <table class="table" ng-show="items.length">
    <thead>
      <tr>
        <th class="check-col"><input type="checkbox" ng-model="checkAll" ng-change="toggleAll(checkAll)"/></th>
        <th ng-repeat="field in config.fields" ng-if="field.checked" ng-class="{'filter-header': !!field.options}">
          <div ng-if="!field.options">{{field.header}}</div>
          <filter-dropdown ng-if="!!field.options" show-all="true" label="{{field.header}}" options="field.options"></filter-dropdown>
        </th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="item in (filtered = (items | selectedTableOptions:config.fields | search:config.searchOn:searchQuery | orderBy:config.orderBy))" ng-click="selectItem(item)" ng-class="{selected: item.id === selected.id}">
        <td class="check-col">
          <input type="checkbox" ng-model="item.checked"/>
        </td>

        <td ng-if="field.checked" ng-repeat="field in config.fields">
          <div ng-if="field.templateUrl" class="detail-header-pane" ng-include="field.templateUrl"></div>
          <span ng-if="!field.templateUrl">{{parse(item, field)}}</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
